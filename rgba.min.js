window.rgba=window.rgba||function(){function a(a,t,e){function n(){this.ready=!0,d.ready&&o.ready&&r()}function r(){var a,t,n,r=d.naturalWidth,i=d.naturalHeight,u=0;g&&(i*=.5,u=i);var c=document.createElement("canvas");c.width=r,c.height=i;var l=c.getContext("2d"),m=document.createElement("canvas");m.width=r,m.height=32;for(var h=m.getContext("2d"),v=0;i>v;v+=32){h.drawImage(o,0,-v-u),a=h.getImageData(0,0,r,32).data,h.drawImage(d,0,-v),n=h.getImageData(0,0,r,32),t=n.data;for(var w=3,s=t.length;s>w;w+=4)t[w]=a[w-2];l.putImageData(n,0,v,0,0,r,32)}d=null,o=null,e&&e(c)}var g=!1;t==a&&(g=!0),"string"!=typeof t&&(e=t,g=!0);var d=new Image,o=g?d:new Image;d.ready=!1,d.onload=n,d.src=a,g||(o.ready=!1,o.onload=n,o.src=t)}function t(a,t){a.style.backgroundImage="url("+t.toDataURL("image/png")+")"}return{getCanvas:a,setBackground:t}}();
